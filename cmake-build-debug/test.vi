
namespace CallBackNameSpace : {
    message = "Am I is callback!";
    counter = 0;
    finish = 1;
}

function callback(x) : {
    return x;
}

function callback() : {
    CallBackNameSpace->counter = CallBackNameSpace->counter + 1;
    output(CallBackNameSpace->message + " == " + string(CallBackNameSpace->counter) + "\n");

    if (CallBackNameSpace->counter == CallBackNameSpace->finish) : {
        return 3.14;
    } else : {
        return setTimeout(callback, 1);
    }
}

output(
    callback(
        setTimeout(
            callback,
            1
        )
    )
);